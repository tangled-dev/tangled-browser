<style include="cr-shared-style">
  :host {
    --ntp-theme-text-color: var(--google-grey-800);
    --ntp-theme-text-shadow: none;
    --ntp-one-google-bar-height: 5px;
    --ntp-search-box-width: 337px;
    --search-box-text: rgb(0,0,0);
    --search-box-results-text: rgb(0,0,0);
    --ntp-module-width: var(--ntp-search-box-width);
    --ntp-module-layout-width: var(--ntp-search-box-width);
    --ntp-module-border-radius: 5px;
  }

  @media (min-width: 560px) {
    :host {
      --ntp-search-box-width: 449px;
    }
  }

  @media (min-width: 672px) {
    :host {
      --ntp-search-box-width: 561px;
    }
  }

  @media (prefers-color-scheme: dark) {
    :host {
      --ntp-theme-text-color: white;
    }
  }

  :host([modules-redesigned-enabled_]) {
    --ntp-module-border-radius: 24px;
    --ntp-module-layout-width: 360px;
    --ntp-module-width: 360px;
  }

  :host([modules-redesigned-layout-enabled_]) {
    --ntp-module-layout-width: 360px;
  }

  @media (min-width: 960px) {
    :host([modules-redesigned-layout-enabled_]) {
      --ntp-module-layout-width: 780px;
    }
  }

  @media (min-width: 1440px) {
    :host([modules-redesigned-layout-enabled_]) {
      --ntp-module-layout-width: 1170px;
    }
  }

  :host([show-background-image_]) {
    --ntp-theme-text-shadow: 0 0 16px rgba(0, 0, 0, .3);
  }

  #oneGoogleBar {
    height: 100%;
    position: absolute;
    top: 0;
    width: 100%;
  }

  #content {
    align-items: center;
    display: flex;
    flex-direction: column;
    min-width: fit-content;  /* Prevents OneGoogleBar cutoff at 500% zoom. */
    padding-top: var(--ntp-one-google-bar-height);
    position: relative;
    z-index: 1;
    height: 550px;
  }

  #logo {
    margin-bottom: 38px;
    z-index: 1;  /* Needed so it layers on top of OneGoogleBar. */
  }

  ntp-realbox {
    margin-bottom: 16px;
  }

  ntp-realbox {
    flex-shrink: 0;
    width: var(--ntp-search-box-width);
  }

  ntp-modules {
    flex-shrink: 0;
    width: var(--ntp-module-layout-width);
  }

  ntp-middle-slot-promo {
    max-width: var(--ntp-search-box-width);
  }

  ntp-realbox {
    visibility: hidden;
  }

  ntp-realbox[shown] {
    visibility: visible;
  }

  cr-most-visited {
    --most-visited-focus-shadow: var(--ntp-focus-shadow);
    --most-visited-text-color: var(--ntp-theme-text-color);
    --most-visited-text-shadow: var(--ntp-theme-text-shadow);
  }

  /* ~ because the dom-if results in a template between the middle-slot-promo
     and ntp-modules. */
  ntp-middle-slot-promo:not([hidden]) ~ ntp-modules {
    margin-top: 16px;
  }

  #customizeButtonContainer {
    background-color: var(--ntp-background-override-color);
    border-radius: calc(.5 * var(--cr-button-height));
    bottom: 16px;
    position: fixed;
  }

  :host-context([dir='ltr']) #customizeButtonContainer {
    right: 16px;
  }

  :host-context([dir='rtl']) #customizeButtonContainer {
    left: 16px;
  }

  :host([show-background-image_]) #customizeButtonContainer {
    background-color: transparent;
  }

  :host([show-background-image_]) #customizeButtonContainer:hover {
    background-color: rgba(255, 255, 255, .1);
  }

  #customizeButton {
    border: none;
    border-radius: calc(.5 * var(--cr-button-height));
    box-shadow: 0 3px 6px rgba(0, 0, 0, .16), 0 1px 2px rgba(0, 0, 0, .23);
    font-weight: 400;
    min-width: 32px;
  }

  :host([show-background-image_]) #customizeButton {
    box-shadow: none;
    padding: 0;
  }

  :host-context(.focus-outline-visible) #customizeButton:focus {
    box-shadow: var(--ntp-focus-shadow);
  }

  #customizeIcon {
    -webkit-mask-image: url(icons/icon_pencil.svg);
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 100%;
    background-color: var(--text-color);
    height: 16px;
    margin-inline-end: 8px;
    width: 16px;
  }

  :host([show-background-image_]) #customizeIcon {
    background-color: white;
    margin: 0;
  }

  @media (max-width: 550px) {
    #customizeButton {
      padding: 0;
    }

    #customizeIcon {
      margin: 0;
    }

    #customizeText {
      display: none;
    }
  }

  @media (max-width: 970px) {
    :host([modules-shown-to-user]) #customizeButton {
      padding: 0;
    }

    :host([modules-shown-to-user]) #customizeIcon {
      margin: 0;
    }

    :host([modules-shown-to-user]) #customizeText {
      display: none;
    }
  }

  @media (max-width: 1020px) {
    :host([modules-fre-shown]) #customizeButton {
      padding: 0;
    }

    :host([modules-fre-shown]) #customizeIcon {
      margin: 0;
    }

    :host([modules-fre-shown]) #customizeText {
      display: none;
    }
  }

  #themeAttribution {
    align-self: flex-start;
    bottom: 16px;
    color: var(--cr-secondary-text-color);
    margin-inline-start: 16px;
    position: fixed;
  }

  #backgroundImageAttribution {
    border-radius: 8px;
    bottom: 16px;
    color: var(--ntp-theme-text-color);
    line-height: 20px;
    max-width: 50vw;
    padding: 8px;
    position: fixed;
    text-shadow: var(--ntp-theme-text-shadow);
    z-index: -1;
  }

  :host-context([dir='ltr']) #backgroundImageAttribution {
    left: 16px;
  }

  :host-context([dir='rtl']) #backgroundImageAttribution {
    right: 16px;
  }

  #backgroundImageAttribution:hover {
    background: rgba(var(--google-grey-900-rgb), .1);
  }

  #backgroundImageAttribution1Container {
    align-items: center;
    display: flex;
    flex-direction: row;
  }

  #linkIcon {
    -webkit-mask-image: url(icons/link.svg);
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 100%;
    background-color: var(--ntp-theme-text-color);
    height: 16px;
    margin-inline-end: 8px;
    width: 16px;
  }

  #backgroundImageAttribution1,
  #backgroundImageAttribution2 {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  #backgroundImageAttribution1 {
    font-size: .875rem;
  }

  #backgroundImageAttribution2 {
    font-size: .75rem;
  }

  #contentBottomSpacer {
    flex-shrink: 0;
    height: 32px;
    width: 1px;
  }

  svg {
    position: fixed;
  }
</style>
<div id="content" style="
        --ntp-theme-text-color: [[rgbaOrInherit_(theme_.textColor)]];
        --ntp-logo-color: [[rgbaOrInherit_(logoColor_)]];">
  <ntp-realbox id="realbox" on-open-voice-search="onOpenVoiceSearch_"
      theme="[[theme_.searchBox]]" shown$="[[realboxShown_]]">
  </ntp-realbox>
  <dom-if if="[[lazyRender_]]" on-dom-change="onLazyRendered_">
    <template>
      <template is="dom-if" if="[[shortcutsEnabled_]]">
        <cr-most-visited id="mostVisited" theme="[[theme_.mostVisited]]">
        </cr-most-visited>
      </template>
    </template>
  </dom-if>
  <div id="contentBottomSpacer"></div>
</div>
<dom-if if="[[showVoiceSearchOverlay_]]" restamp>
  <template>
    <ntp-voice-search-overlay on-close="onVoiceSearchOverlayClose_">
    </ntp-voice-search-overlay>
  </template>
</dom-if>